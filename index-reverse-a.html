<html>
<head>
	<link rel="stylesheet" type="text/css" href="css/style-inverse.css">
	<link rel="stylesheet" type="text/css" href="css/go-away.css">
	<script src="javascript/script.js" type="text/javascript"></script>
		<script src="javascript/spasm-script.js" type="text/javascript"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
</head>

<body>
<div class="topNav">
	<a href="#apple-icon" class="dropdown-1"><img src="images/apple.png"></a>
	<a href="#file" class="dropdown-2">File</a>
	<a href="#edit"class="dropdown-3">Hint</a>
	<a href="#goodies"class="dropdown-4">Goodies</a>
	<a href="#special"class="dropdown-5">Special</a>
</div>


<div id="dropdown-content">
	<div class="dropdown-content-1">dogs</div>
	<div class="dropdown-content-2">cats</div>
	<div class="dropdown-content-3">turtles</div>
	<div class="dropdown-content-4">birds</div>
	<div class="dropdown-content-5">lizards</div>
</div>

<img src="images/loading.gif" style="width:04vw; height: 04vw; position: absolute; padding: 50vw;">
<div id="go-away">
<p style="font-family: none;font-size: 10px; color: white;">
	!/usr/bin/env ruby

Exit early if no sessions with my username are found
exit unless `who -q`.include? ENV['USER']

require 'dotenv'
require 'twilio-ruby'

Dotenv.load

TWILIO_ACCOUNT_SID = ENV['TWILIO_ACCOUNT_SID']
TWILIO_AUTH_TOKEN  = ENV['TWILIO_AUTH_TOKEN']

@twilio = Twilio::REST::Client.new TWILIO_ACCOUNT_SID, TWILIO_AUTH_TOKEN

# Phone numbers
my_number  = '+xxx'
her_number = '+xxx'

reason = [
  'Working hard',
  'Gotta ship this feature',
  'Someone fucked the system again'
].sample

# Send a text message
@twilio.messages.create(
  from: my_number, to: her_number, body: "Late at work. #{reason}"
)

# Log this
puts "Message sent at: #{Time.now} | Reason: #{reason}"


# Set these environment variables or edit and copy this file into `.env`
# See: https://github.com/bkeepers/dotenv

TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy
GMAIL_USERNAME=admin@example.org
GMAIL_PASSWORD=passwordFunction Fucking-Coffee

    # Exit early if no sessions with my username are found
    if ($env:Username.Count > 0) {
        return
    }

    $coffee_machine_ip = '10.10.42.42'
    $password = '1234'

    Start-Sleep -s 17

    $socket = New-Object System.Net.Sockets.TcpClient($coffee_machine_ip)
    if ($socket) {
        $stream = $connection.GetStream()
        $Writer = New-Object System.IO.StreamWriter($Stream)
        $Buffer = New-Object System.Byte[] 1024
        $Encoding = New-Object System.Text.AsciiEncoding

        # Start issuing the commands
        Send-TelNetCommands($Writer, $password, 1)
        Send-TelNetCommands($Writer, "sys brew", 24)
        Send-TelNetCommands($Writer, "sys pour", 4)

        $socket.Close()
    }
}

Function Send-TelNetCommands
{
    Param (
        [Parameter(ValueFromPipeline=$false)]
        [System.IO.StreamWriter]$writer,
        [String]$command,
        [int]$WaitTime
    )

    $writer.WriteLine($command)
    $writer.Flush()
    Start-Sleep -Milliseconds $WaitTime
}
</p>
</div>
</body>
</html>